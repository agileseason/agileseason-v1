.issue.draggable [
  id="issues_#{issue.number}"
  class="#{issue.state} issue-#{issue.number}"
  data-number="#{issue.number}"
  data-column="#{column.id}"
  data-url="#{un show_board_issues_url(@board, issue.number)}"
]

  = render partial: 'issues/labels', locals: { issue: issue, board: @board }

  .issue-title
    span.issue-name data-number="#{issue.number}"
      = k(:issue, issue).title
    a.url href="#{issue.html_url}" ##{issue.number}

  /.issue-data
    /= render partial: 'issues/issue_modal', locals: { issue: issue, board: @board, labels: @board_bag.labels }

  = render partial: 'issues/assignee', locals: { issue: issue }

  span.octicon.octicon-book class="#{:show unless k(:issue, issue).body_empty?}"
  span.octicon.octicon-comment-discussion class="#{:show unless issue.comments == 0}"

  - unless issue.comments.blank?
    span.octicon.octicon-comment

  - if issue.open?
    a.button.close [
      href="#{close_board_issues_url(@board, issue.number)}"
      data-type='json'
      data-remote='true'
      title='Click to close'
    ] Close

  a.button.archive [
    class="#{:hidden unless issue.closed?}"
    href="#{archive_board_issues_url(@board, issue.number)}"
    data-type='json'
    data-remote='true'
  ] Archive

  .due-date class="#{:none unless issue.due_date_at}" = k(:issue, issue).due_date_at
