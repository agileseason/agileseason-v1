@import compass/css3/border-radius
@import compass/css3/text-shadow
@import compass/css3/box-shadow
@import compass/css3/transform
@import compass/css3/transition
@import compass/css3/opacity
@import globals/variables
@import mixins/button
@import mixins/close
@import mixins/link
@import mixins/popup
@import compass/css3

@import globals/variables

.p-boards-show
  background: #F2F4F7
  .container
    padding: 0

  .b-submenu
    margin: 20px

  .b-menu
    position: absolute
    top: 0
    width: 100%

  .actions
    margin-bottom: 10px

  .board
    position: relative

    .alert-refresh
      +border-radius(2px)
      background-color: #fff
      display: none
      padding: 16px
      position: absolute
      right: 10px
      top: 10px
      z-index: 3

      .title
        font-size: 18px
        padding: 0 0 8px 0

      a
        float: right

  .board-columns
    //-moz-box-align: start
    -moz-box-orient: horizontal
    //-ms-flex-align: start
    -ms-flex-direction: row
    //-webkit-align-items: flex-start
    //-webkit-box-align: start
    -webkit-box-orient: horizontal
    -webkit-flex-direction: row
    //align-items: flex-start
    bottom: 0
    display: -moz-box
    display: -ms-flexbox
    display: -webkit-box
    display: -webkit-flex
    display: flex
    flex-direction: row
    left: 0
    overflow-x: auto
    overflow-y: hidden
    padding: 100px 20px 10px 10px
    position: absolute
    right: 0
    top: 0

  .board-column
    +border-radius(4px)
    -moz-box-flex: 0
    -moz-box-orient: vertical
    -moz-box-sizing: border-box
    -ms-flex-direction: column
    -ms-flex: 0 0 260px
    -webkit-box-flex: 0
    -webkit-box-orient: vertical
    -webkit-box-sizing: border-box
    -webkit-flex-direction: column
    -webkit-flex: 0 0 260px
    box-sizing: border-box
    display: -moz-box
    display: -ms-flexbox
    display: -webkit-box
    display: -webkit-flex
    display: flex
    flex-direction: column
    flex: 0 0 260px
    margin-right: 0
    max-height: 100%
    padding: 40px 0 0 0
    position: relative
    width: 260px
    vertical-align: top

    &.over
      +border-radius(4px)
      +box-shadow(0 0 40px rgba(63,63,63,0.1) inset)

    &.last
      a.button.close,
      a.button.archive
        display: block

      a.button.archive.hidden
        display: none

    &:last-child
      margin-right: 0

      &:after
        content: ' '
        height: 1px
        margin-left: 260px
        position: relative
        width: 10px

  .column-menu
    .title
      color: $text-light
      font-size: 16px
      font-weight: bold
      padding: 10px 0 0 10px
      position: absolute
      top: 0

      span
        margin-left: 6px

    .popup
      +popup
      top: 32px
      z-index: 3

      ul
        list-style-type: none
        padding: 0 20px

        li
          padding: 4px 0
          &.delimiter
            border-bottom: 1px solid #ccc
            margin: 6px 0
            padding: 0

          a
            color: $text-light
            &:hover
              color: $text-usual

          label
            color: $text-light
            display: inline-block
            padding: 0
            width: 64px

          input
            width: 40px
            &.name
              width: 100px

  .badge
    display: inline-block

    &.warning
      color: #ff8930

    &.alert
      color: #ff5252

  .issues
    padding: 0 10px
    overflow-y: auto
    min-height: 40px

    .add-user
      display: none

  .create-issue
    display: none
    z-index: 1
    position: fixed
    width: 630px
    background: #fff
    left: 50%
    margin-left: -315px
    +box-shadow(5px 10px 30px -3px rgba(90,80,80,0.3))
    +border-radius(2px)
    border: 1px solid $form-border
    overflow: hidden
    outline: none

    form.new_issue
      padding: 0

      .issue_title
        margin: 15px 25px 0 20px

      textarea
        min-height: 80px
        width: 100%
        font-size: 24px

        background: none
        border: none
        border-bottom: 1px solid #ddd
        color: $text-usual
        margin-bottom: 2px
        outline: none
        resize: vertical

    label
      display: none

    .issue_body
      display: none

    .submit-area
      +border-radius(0)
      background: none
      padding: 15px 0 5px
      border-top: 1px solid $form-border
      margin: 0 20px 10px

      .cancel
        +ajax_link
        display: inline-block
        font-size: 13px

    .labels
      padding: 0 0 15px 20px
      text-align: left

      label
        width: 130px
        display: inline-block
        margin: 10px 10px 0 0
        padding: 0px 5px 3px
        text-align: left
        +border-radius(6px)
        cursor: pointer

        .label-name
          display: inline-block
          width: 110px
          font-size: 14px
          vertical-align: middle

        .input
          display: inline-block
          vertical-align: middle

  .popup
    +popup
    font-size: 14px
    height: auto
    top: 100%
    width: 240px

    .octicon.octicon-triangle-up
      display: block

    .close-popup
      +close

  .new-issue
    +ajax_link
    display: inline-block
    float: right
    vertical-align: top
    margin: -30px 10px 0 0

  .new-column
    text-align: center

    span
      +ajax_link
      display: inline-block

  .create-column
    +border-radius(2px)
    background: #e6e8e8
    display: none
    margin-top: -20px
    padding: 10px

    input[type='text']
      background: none
      border: none
      border-bottom: 1px solid $form-border
      display: block
      font-size: inherit
      line-height: 1.6
      outline: none
      width: 100%

    .submit-area
      background: none
      padding: 8px 0 0

      .cancel
        +ajax_link
        font-size: 13px

      input[type='submit']
        padding: 5px 10px

  .empty-issue
    +border-radius(4px)
    min-width: 40px
    background: #ccc
    margin-bottom: 10px

  .ui-sortable-helper
    +box-shadow(0 25px 20px -10px rgba(100, 100, 100, 0.3))

  .issue
    +border-radius(2px)
    background-color: #fff
    border-bottom: 1px solid #ddd
    padding: 0 10px 15px
    position: relative
    overflow: hidden

    .octicon
      display: none
      margin-right: 3px
      color: $text-light

      &.show
        display: inline

    &:hover
      cursor: -webkit-grab

    &.ui-draggable-dragging
      cursor: -webkit-grabbing
      position: absolute
      width: 220px
      z-index: 1

    &:hover
      background: #EAF4FC

    &.bug
      background: $card-bug

    &.closed
      opacity: 0.8
      background: $card-closed

      .issue-title,
      p
        color: #999

      a,
      .labels,
      .octicon
        +opacity(0.7)

    .url
      margin-left: 4px
      margin-right: 4px
      display: inline

    .due-date
      +border-radius(2px)
      background: $orange
      color: #fff
      display: inline-block
      float: right
      font-size: 10px
      margin-top: 5px
      padding: 2px 6px 2px 6px

      &.none
        display: none

    .b-assignee-container
      .b-assignee
        margin: 10px 0 0
      .no-one
        display: none

    .issue-title
      color: $text-usual
      font-size: 14px
      font-weight: normal
      padding: 8px 0 0
      line-height: 1.3em

    .issue-name
      cursor: pointer
      display: inline
      color: $text-usual

    a.button
      +button
      float: right
      font-size: 9px
      letter-spacing: 0.1em
      margin: 5px 0 0 5px
      padding: 5px 10px
      text-align: right
      text-transform: uppercase
      display: none

      &.close
        display: none

  .issue-modal
    color: $text-usual
    display: none
    bottom: 0
    height: 100%
    left: 0
    overflow-y: auto
    position: fixed
    right: 0
    top: 0
    width: 100%

    & > .overlay
      +opacity(0.4)
      height: 100%
      left: 0
      position: fixed
      top: 0
      width: 100%
      z-index: 200

      &.visible
        +opacity(0.5)

    .modal-inner
      left: 50%
      margin-left: -480px
      margin-bottom: 40px
      position: absolute
      top: 100px
      width: $modal-width
      z-index: 205

    .modal-close
      +close

  .modal-preloader
    background-position: 50% 50%
    min-height: 200px
    width: 100%

    .modal-close
      +close

  .modal-preloader
    background-position: 50% 50%
    min-height: 200px
    width: 100%
