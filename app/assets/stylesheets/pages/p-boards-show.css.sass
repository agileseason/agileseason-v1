@import compass/css3/border-radius
@import compass/css3/text-shadow
@import compass/css3/box-shadow
@import compass/css3/transform
@import compass/css3/opacity
@import 'mixins/button'

@import globals/variables

.p-boards-show
  .container
    padding: 0

  .actions
    margin-bottom: 10px

  .board
    position: relative

  .board-columns
    -moz-box-align: start
    -moz-box-orient: horizontal
    -ms-flex-align: start
    -ms-flex-direction: row
    -webkit-align-items: flex-start
    -webkit-box-align: start
    -webkit-box-orient: horizontal
    -webkit-flex-direction: row
    align-items: flex-start
    bottom: 0
    display: -moz-box
    display: -ms-flexbox
    display: -webkit-box
    display: -webkit-flex
    display: flex
    flex-direction: row
    left: 0
    overflow-x: auto
    overflow-y: hidden
    padding: 0 20px 10px
    position: absolute
    right: 0
    top: 0

  .board-column
    +border-radius(4px)
    -moz-box-flex: 0
    -moz-box-orient: vertical
    -moz-box-sizing: border-box
    -ms-flex-direction: column
    -ms-flex: 0 0 260px
    -webkit-box-flex: 0
    -webkit-box-orient: vertical
    -webkit-box-sizing: border-box
    -webkit-flex-direction: column
    -webkit-flex: 0 0 260px
    box-sizing: border-box
    display: -moz-box
    display: -ms-flexbox
    display: -webkit-box
    display: -webkit-flex
    display: flex
    flex-direction: column
    flex: 0 0 260px
    margin-right: 10px
    max-height: 100%
    padding: 0 20px 0 0
    position: relative
    width: 260px

    &:first-child
      .new-issue
        display: block

    &:last-child
      margin-right: 0

      &:after
        content: ' '
        height: 1px
        margin-left: 260px
        position: relative
        width: 10px

      .state
        display: block

        &.open
          display: inline-block

  .board-title
    +text-shadow(0px 1px 1px rgba(255,255,255,0.8))
    color: $text-light
    font-size: 16px
    font-weight: bold
    padding: 0 0 10px

  .issues
    padding: 0
    overflow-y: auto

    .add-user
      display: none

  .new-issue
    display: none
    -moz-box-flex: 0
    -ms-flex: 0 0 auto
    -webkit-box-flex: 0
    -webkit-flex: 0 0 auto
    flex: 0 0 auto
    padding: 10px
    border: 1px dashed #aaa
    border-radius: 4px
    margin: 7px 0 10px

    &:hover
      border: 1px dashed #888

  .issue
    +border-radius(3px)
    +box-shadow(0 1px 0px rgba(100,100,100,0.3))
    background-color: $card
    margin-bottom: 10px
    padding: 0 10px 10px
    position: relative

    &:hover
      background: $card-hover

    &.bug
      background: $card-bug

    &.closed
      background: $card-closed

      .issue-title,
      p
        color: #999

      a,
      .labels
        +opacity(0.7)

    .label
      +border-radius(0 0 2px 2px)
      background: #eeeeee
      color: white !important
      display: inline
      font-size: 10px
      line-height: 13px
      margin-right: 3px
      padding: 0 4px 1px
      vertical-align: top

    .url
      margin-left: 4px
      margin-right: 4px
      display: inline

    .due-date
      +border-radius(2px)
      background: $orange
      color: #fff
      display: inline-block
      margin: 5px 0 0 0
      padding: 2px 5px
      line-height: 12px
      font-size: 12px

    .b-assigned
      margin: 10px 0 0

    .issue-title
      color: $text-usual
      font-size: 14px
      font-weight: normal
      padding: 8px 0 0
      margin: -5px 0 0 0
      line-height: 1.3em

    .issue-name
      cursor: pointer
      display: inline
      color: $text-light

      &:hover
        color: $text-usual

    .state
      color: $text-light
      display: none
      font-size: 9px
      letter-spacing: 0.1em
      text-align: right
      text-transform: uppercase

      &.open
        +button
        font-size: 9px
        margin: 5px 0 0 160px
        padding: 5px 10px
        text-align: right

    .actions
      list-style: none
      margin: 0
      padding: 0

      ul
        margin: 0

    .move-to
      ul
        list-style: none
        margin: 0
        padding: 0

    .stats
      font-size: 10px
      color: #888
